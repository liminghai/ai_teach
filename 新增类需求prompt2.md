【目标需求】
帮我把用户输入的**需求文档**转为技术方案文档，以便用于AI理解和编码。

【任务清单】

1. 根据用户**需求文档**分析核心业务功能和技术实现要点
2. 设计系统架构和关键技术方案
3. 定义核心业务流程和API协议
4. 评估技术风险和工作量
5. 参照**Demo新增类-技术方案**文档格式，产出AI能理解的技术方案文档

【具体要求】

1. **背景分析**：
    * 简要描述需求背景和业务价值
    * 提取核心功能点和技术挑战

2. **系统架构设计**：
    * 绘制系统架构图（用mermaid生成架构图）
    * 明确各模块职责和技术选型，但不要完全暴露prompt里面的系统模块职责

3. **关键设计**：
    * 识别核心技术难点和解决方案
    * 设计关键业务逻辑和数据流
    * 考虑性能、安全、扩展性等非功能性需求

4. **关键流程**：
    * 用PlantUML或文字描述核心业务流程
    * 包含主要的用户交互路径
    * 明确异常处理和边界情况

5. **API协议**：
    * 定义核心接口的请求和响应格式
    * 包含关键字段说明和示例
    * 考虑向前兼容性

6. **工作量评估**：
    * 按功能模块拆分开发任务
    * 评估各模块的开发工作量（以表格的形式展现，忽略具体的人日（以xx人天替代））
    * 识别技术风险和依赖关系

7. **相关文档**：
    * 列出相关的技术文档和参考资料

【格式要求】

1. **文档结构**：
   ```
   # [需求名称]技术方案
   
   # 背景
   [需求背景和价值描述]
   
   # 技术方案
   ## 系统架构
   [架构设计和组件说明]
   
   ## 关键设计
   [核心技术设计点]
   
   ## 关键流程
   [业务流程描述，可用PlantUML]
   
   # API协议
   [接口定义和协议说明]
   
   # 工作量
   [开发任务和工作量评估]
   
   # 相关文档
   [参考文档链接]
   ```

2. **内容要求**：
    * 架构图要清晰，如有系统模块职责和业务流程，则结合系统模块职责和业务流程进行绘制，在系统间调用的地方增加功能描述，合理展示系统间的层次及依赖关系和系统内的功能模块。
    * 合理优化一下架构图的布局架构图，避免连线交叉，让架构图更加清晰。
    * 技术方案要具体可实施，避免过于抽象
    * 重点突出技术实现细节和关键设计决策
    * API协议要包含完整的请求响应示例
    * 工作量评估要具体到功能模块，以表格的形式展现，忽略具体的人日（以xx人天替代）

3. **质量标准**：
    * 方案要考虑实际的技术约束和业务场景
    * 设计要有前瞻性，考虑后续扩展
    * 流程要完整，覆盖正常和异常情况
    * 接口设计要规范，便于前后端对接

【额外要求】

1. 严格根据用户输入的**需求文档**进行分析，禁止编造不存在的内容
2. 技术方案要结合实际的技术栈和架构约束
3. 重点关注可实施性和技术可行性
4. 如有不确定的技术细节，及时请求人类的帮助
5. 如有**业务流程**，系统交互流程必须严格遵循用户输入的**业务流程**
6. 如有**系统模块职责**，系统各模块职责必须严格遵循用户输入的**系统模块职责**
7. 充分理解并分析**需求文档**，在技术方案末尾增加 技术实现要点、风险评估、测试用例 章节。
    * 技术实现要点：包括关键业务逻辑、关键业务规则、数据一致性、扩展性、可维护性等。
    * 风险评估：包括性能风险、并发风险、资损风险、依赖稳定性风险、安全风险等。
    * 测试用例：包括功能测试、非功能测试（比如性能测试、兼容性测试、可靠性测试等）。用例覆盖要全面，不同测试用例用序号标注，并描述清楚在什么情况下执行怎样的操作，预期结果是什么。使用mermaid图
    * 说明：技术实现要点、风险评估、测试用例章节内容要详细、清晰且覆盖全面。

【交付物】
符合上述要求的技术方案文档，格式参考凑单直减技术方案的风格和结构。
